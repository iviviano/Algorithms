---
mathLink: any CFL may be generated by a CFG in Chomsky normal form
---
>[!thm] 
>Any [[Context-Free Languages]] is generated by a [[Context-Free Grammar]] in [[Chomsky Normal Form]].

>[!proof]

Given a [[Context-Free Grammar]] $G=(V,\Sigma,R,S)$ generating $A$, we construct a new [[Context-Free Grammar]] $G=V',\Sigma,R',S'$ in [[Chomsky Normal Form]] generating $A$. There are five steps: 
1. (START) Add a new start variable
2. (BIN) Replace rules with RHS larger than two with multiple rules each of which has a RHS of length two (replace $A \rightarrow bCdEF$ with $$\begin{align*}
A&\rightarrow bX\\
X&\rightarrow CY\\
Y&\rightarrow dZ\\
z&\rightarrow EF\\
\end{align*}$$)
3. (DEL-$\varepsilon$) Remove all $\varepsilon$-rules, if we have $A \rightarrow \varepsilon$, delete it and update all rules with $A$ in the RHS as follows:
	1. $B \rightarrow A$ Add rule $B \rightarrow \varepsilon$ unless $B \rightarrow \varepsilon$ has already been removed
	2. $B \rightarrow AA$ Add rule $B \rightarrow A$ and if $B \rightarrow \varepsilon$ has not already been removed, add it
	3. $B \rightarrow xA$ or $B \rightarrow Ax$, add rule $B \rightarrow x$
4. (UNIT) Remove all Unit rules $(A \rightarrow B)$ and add rules $A \rightarrow u$ for  each $B \rightarrow u$ unless $A \rightarrow u$ is a unit rule already removed
	1. (TERM) For each $t\in \Sigma$, add a new variable $T$ and a rule $T \rightarrow t$; replace each $t$ in the RHS of non-unit rules with $T$



>[!example]

The language of [[Palindrome]]s has grammar $$T \rightarrow aTa|bTb|a|b|\varepsilon$$START:$$\begin{align*}
S&\rightarrow T\\
T &\rightarrow aTa|bTb|a|b|\varepsilon\\
\end{align*}$$BIN: $$\begin{align*}
S &\rightarrow T\\
T &\rightarrow aU\\
U&\rightarrow Ta\\
T&\rightarrow bV\\
V&\rightarrow Tb\\
T&\rightarrow a|b|\varepsilon\\
\end{align*}$$DEL-$\varepsilon$: $$\begin{align*}
S &\rightarrow T|\varepsilon\\
T &\rightarrow aU|bV|a|b\\
U&\rightarrow Ta | a\\
V&\rightarrow Tb|b\\
\end{align*}$$UNIT: $$\begin{align*}
S &\rightarrow aU|bV|a|b|\varepsilon\\
T &\rightarrow aU|bV|a|b\\
U&\rightarrow Ta|a\\
V&\rightarrow Tb|b
\end{align*}$$
TERM: $$\begin{align*}
S&\rightarrow AU|BV|a
\end{align*}$$