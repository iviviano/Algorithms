---
mathLink: any CFL may be generated by a CFG in Chomsky normal form
---
>[!thm] 
>Any [[Context-Free Languages]] is generated by a [[Context-Free Grammar]] in [[Chomsky Normal Form]].


>[!proof]
Given a [[Context-Free Grammar]] $G=(V,\Sigma,R,S)$ generating $A$, we construct a new [[Context-Free Grammar]] $G=(V',\Sigma,R',S')$ in [[Chomsky Normal Form]] generating $A$. There are five steps: 
>1. (START) Add a new start variable
>2. (BIN) Replace rules with RHS larger than two with multiple rules each of which has a RHS of length two (replace $A \rightarrow xu$ with $A \rightarrow xA_{1}$ and $A_{1}\rightarrow u$
>3. (DEL-$\varepsilon$) Remove all $\varepsilon$-rules, if we have $A \rightarrow \varepsilon$, delete it and update all rules with $A$ in the RHS as follows:
>	1. $B \rightarrow A$ Add rule $B \rightarrow \varepsilon$ unless $B \rightarrow \varepsilon$ has already been removed
>	2. $B \rightarrow AA$ Add rule $B \rightarrow A$ and if $B \rightarrow \varepsilon$ has not already been removed, add it
>	3. $B \rightarrow xA$ or $B \rightarrow Ax$, add rule $B \rightarrow x$
>4. (UNIT) Remove all Unit rules $(A \rightarrow B)$ and add rules $A \rightarrow u$ for  each $B \rightarrow u$ unless $A \rightarrow u$ is a unit rule already removed
>5. (TERM) For each $t\in \Sigma$, add a new variable $T$ and a rule $T \rightarrow t$; replace each $t$ in the RHS of non-unit rules with $T$
Each step preserves the [[Language of a Grammar]] of $G$, so $G'$ has the same language and is in [[Chomsky Normal Form]].

>[!example]
The language of [[Palindrome]]s has grammar $$T \rightarrow aTa|bTb|a|b|\varepsilon$$START:$$\begin{align*}
S&\rightarrow T\\
T &\rightarrow aTa|bTb|a|b|\varepsilon\\
\end{align*}$$BIN: $$\begin{align*}
S &\rightarrow T\\
T &\rightarrow aU\\
U&\rightarrow Ta\\
T&\rightarrow bV\\
V&\rightarrow Tb\\
T&\rightarrow a|b|\varepsilon\\
\end{align*}$$DEL-$\varepsilon$: $$\begin{align*}
S &\rightarrow T|\varepsilon\\
T &\rightarrow aU|bV|a|b\\
U&\rightarrow Ta | a\\
V&\rightarrow Tb|b\\
\end{align*}$$UNIT: $$\begin{align*}
S &\rightarrow aU|bV|a|b|\varepsilon\\
T &\rightarrow aU|bV|a|b\\
U&\rightarrow Ta|a\\
V&\rightarrow Tb|b
\end{align*}$$
TERM: $$\begin{align*}
S&\rightarrow AU|BV|a|b|\varepsilon\\
T&\rightarrow AU|BV|a|b\\
U&\rightarrow TA|a\\
V&\rightarrow TB|b\\
A&\rightarrow a\\
B&\rightarrow b
\end{align*}$$

>[!example]
$\{a,b\}^{*}$ given by the [[Context-Free Grammar]]: $$T \rightarrow aT|bT|\varepsilon$$
START: $$\begin{align*}
S&\rightarrow T\\
T& \rightarrow aT|bT|\varepsilon
\end{align*}$$DEL-$\varepsilon$: $$\begin{align*}
S&\rightarrow T|\varepsilon\\
T&\rightarrow aT|a|bT|b
\end{align*}$$UNIT: $$\begin{align*}
S&\rightarrow aT|a|bT|b|\varepsilon\\
T&\rightarrow aT|a|bT|b
\end{align*}$$TERM: $$\begin{align*}
S&\rightarrow AT|a|BT|b|\varepsilon\\
T&\rightarrow AT|a|BT|b|\\
A&\rightarrow a\\
B&\rightarrow b
\end{align*}$$

>[!example]

$\{w:w \text{ starts and ends with different symbols}\}$ given by the grammar $$\begin{align*}
T &\rightarrow aUb|bUa\\
U& \rightarrow aU|bU|\varepsilon
\end{align*}$$START: $$\begin{align*}
S&\rightarrow T\\
T&\rightarrow aUb|bUa\\
U&\rightarrow aU|bU|\varepsilon
\end{align*}$$BIN: $$\begin{align*}
S&\rightarrow T\\
T&\rightarrow aV|bX\\
U&\rightarrow aU|bU|\varepsilon\\
V&\rightarrow Ub\\
X&\rightarrow Ua
\end{align*}$$DEL-$\varepsilon$: $$\begin{align*}
S&\rightarrow T\\
T& \rightarrow aV|bX\\
U &\rightarrow aU|bU|\varepsilon\\
V&\rightarrow U b| b\\
X&\rightarrow Ua| a
\end{align*}$$UNIT: $$\begin{align*}
S &\rightarrow aV|bX
\end{align*}$$TERM: $$\begin{align*}
S&\rightarrow T\\

\end{align*}$$